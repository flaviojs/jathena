--------------------
//0800 by Michael_Huang

  Added Agit NPC Script & Command.
  Fix FreeBSD GCC compatibility.
  Attachment Agit Demo NPCs. 

	(char/)
	int_guild.c
		mapif_guild_castle_dataload() mapif_guild_castle_datasave()
		int mapif_parse_GuildCastleDataLoad() int mapif_parse_GuildCastleDataSave()
		inter_guild_parse_frommap() inter_guildcastle_tostr() inter_guildcastle_fromstr()
	inter.c
		inter_send_packet_length[] inter_recv_packet_length[]
	(common/)
	mmo.h
		GLOBAL_REG_NUM, struct global_reg {}
	version.h
		Mod_Version 0799.
	(conf/)
	atcommand_athena.conf
		agitstart: 1,agitend: 1
	battle_athena.conf
		agit_eliminate_time: 7000
	map_athena.conf
		conf/agit/ev_agit_*.txt
	(doc/)
	conf_ref.txt
		battle_athena.cnf
	agitdb_ref.txt
	(login/)
	login.c
		parse_login()
	(map/)
	atcommand.h
		agitster, agitend

	atcommand.c
		@agitstart, @agitend
	battle.h
		battle_config.agit_eliminate_time
	battle.c
		battle_config_read()
	chrif.c
		chrif_changedsex() chrif_connectack()
	guild.h
		guild_agit_start() guild_agit_end() guild_agit_break()
	guild.c
		guild_read_castledb() do_init_guild()
		guild_agit_start() guild_agit_end() guild_agit_eliminate_timer() guild_agit_break()
	intif.h
		intif_guild_castle_dataload() intif_guild_castle_datasave()
	intif.c
		packet_len_table[] intif_guild_castle_dataload() intif_guild_castle_datasave()
		intif_parse_GuildCastleDataLoad() intif_parse_GuildCastleDataSave() intif_parse()
	map.h
		agit_flag
	map.c
		agit_flag
	npc.h
		npc_event_doall() npc_event_do()
	npc.c
		npc_event_do_sub() npc_event_do()
	script.c
		buildin_maprespawnguildid() buildin_agitstart() buildin_agitend()
		buildin_getcastlename() buildin_getcastledata()	buildin_setcastledata()
	skill.c
		skill_unit_onplace()
		skill_gangster_count()

--------------------
//0799 by ぴざまん

・GvG実?の為にinter-map間の通信仕様変更
・0798のコ?パイ?エ?ー修正(byバグ報?ス?82?)
	(login/)
	login.c
		parse_login() 修正。
	(map/)
	intif.c
		packet_len_table[] 修正。
		intif_parse_GuildCastleInfo() 修正。
		intif_parse_GuildCastleChange()をintif_parse_GuildCastleChangeErr()に改名・修正。
		intif_parse() 修正。
	guild.c
		guild_read_castledb() 修正。

	(char/)
	inter.c
		inter_send_packet_length[] 修正。
	int_guild.c
		inter_guildcastle_tostr() 修正。
		inter_guildcastle_fromstr() 修正。
		mapif_parse_GuildChangeCastle() 修正。
		mapif_parse_GuildCastleInfo() 修正。
		mapif_guild_castle_info() 修正。
		mapif_guild_change_castle()をmapif_guild_change_castle_err()に改名・修正。
	(common/)
	mmo.h 修正。
	version.h 修正。

--------------------
//0798 by 胡蝶?

・login-serverの?グイ?失敗パケットの長さがおかしかったのを修正
・login-serverにアクセスコ?ト?ー?機能追加
	・login_athena.cnfにorder,allow,denyを記述することで、
	  IP単位(前方一致)でアクセスを禁止する機能。
	・指定方法は doc/conf_ref.txt を参照
	
	(doc/)
	conf_ref.txt
		login_athena.cnfの?分修正
	(login/)
	login.c
		グ?ーバ?変? access_* 追加
		parse_login()修正,check_ip()追加

・アカウ?ト作成用CGIスク?プト追加
	・自己責任?詳細な解説無し、質問されてもス?ーする可能性有り
	・エディタで開いたら少し説明有り
	・CGI設置の基本さえわかれば問題ないはず
	・?ッセージは英語、日本語両対?
	  （Accept-Languageがjaなら日本語に変換します）
	・管?者パス?ードなしで動くのでセキ??ティには?意(.htaccessなど?奨)

	(tool/cgi/)
	addaccount.cgi
		アカウ?ト作成用CGI。

・その他
	(tool/)
	backup
		castle.txtもバックアップするように

--------------------
//0797 by ?神

・少し修正。
・battle_athena.confの?目変更。(lootitem_time 削?、item_first_get_time、
item_second_get_time、item_third_get_time、mvp_item_first_get_time、
mvp_item_second_get_time、mvp_item_third_get_time 追加。)
・アイテ??ート?限を正しく実?。最?攻?ではなく与えたダ?ージの
量によって収得?限を与えるように変更。(最?収得?限のみテスト)
パーティの場?パーティの設定に?わせる必要が?りますがまだパケットが
不明な?が?る為同じパーティなら収得できるようになっています。
・ボウ??グバッシ?のバグ修正。(多分修正されたはず...)
・?備スク?プトbonusにbSplashRangeとbSplashAddRange追加。
bSplashRangeとbSplashAddRangeは?器でダ?ージを与えた?のみ発動、通常の?器攻?扱いなので避けられるが(Flee2による完全回避は不可能)ク?は出ないようになっていて?器による状態異常は発生しません。本鯖仕様なんて知りません。
・スキ?の重ね置き??を本鯖に?わせて修正。
・mapflagのgvgはいつもなっているわけじゃないので削?。
・その他細かい修正。
	athena-start 修正。
	(common/)
	mmo.h 修正。
	(conf/)
	mapflag.txt 修正。
	battle_athena.conf 修正。
	(db/)
	const.txt 修正。
	item_db.txt 修正。
	(doc/)
	conf_ref.txt 修正。
	item_bonus.txt 修正。
	(map/)
	mob.c
		mob_spawn()、mob_damage()、mob_class_change()、mob_warp() 修正。
		mob_delay_item_drop()、mob_delay_item_drop2() 修正。
		mobskill_castend_pos() 修正。
	pc.c
		pc_takeitem()、pc_dropitem()、pc_equipitem() 修正。
		pc_calcstatus()、pc_bonus() 修正。
	skill.c
		skill_attack()、skill_additional_effect()、skill_castend_damage_id() 修正。
		skill_castend_nodamage_id()、skill_produce_mix() 修正。
		skill_arrow_create()、skill_unit_timer_sub()、skill_castend_pos() 修正。
	map.h 修正。
	map.c
		map_addflooritem() 修正。
	script.c
		buildin_getitem() 修正。
	pet.c
		pet_return_egg()、pet_get_egg()、pet_unequipitem() 修正。
	battle.h 修正。
	battle.c
		battle_calc_pet_weapon_attack()、battle_calc_mob_weapon_attack() 修正。
		battle_calc_pc_weapon_attack() 修正。
		battle_weapon_attack()、battle_config_read() 修正。

--------------------
//0796 by huge

・細かい修正
	(conf/npc/)
	npc_event_valentine.txt 修正。

	(map/)
	pc.c
		pc_takeitem() 修正。
	skill.c
		skill_unit_timer_sub() 修正。

--------------------
//0795 by Kalen

・雑談341のnpc_warp_niflheim.txt追加
	conf/warp/npc_warp_niflheim.txt

・mapflag.txt修正(GVGMAP設定)
	　nosaveはしていません

・map_athena.confの修正
	　umbala niflheim?の追加
	　コ??トアウトして?ります。

・バ??タイ?スク?プト追加
	conf/npc/npc_event_valentine.txt
	　チ?コ達のDropは弄っていません。お好みでどうぞ
	　尚、手作りチ?コを食べたときのエフェクトは
	　最新ク?イア?トにすれば見えます。

・GVGScript追加
	conf/gvg/以下
	　Weiss?代に作成したものをAthena用にコ?バート&台?修正
	　prtg_cas01以外は旗のみです。
	　GVGDATAは鯖再起動で消滅します。
	　エ?ーが出るようならコ??トアウトしてください。
	　MobData、執?Scriptもprtg_cas01のみです。(TestScript)
	　?くまでテストスク?プトです。GVG実?の参考にどうぞ

--------------------
//0794 by DRG

・skillusedで指定したIW,QMなどにのってる間MOBスキ?を使用するように変更
・アップス?３の7のathena-startを一?含めときました

	athena-start
	(map/)
	skill.c
		skill_unit_onplace() 修正。

--------------------
//0793 by huge

・サーバーsnapshot
・サーバーがク?ッシ?するバグを修正
・発動せずに罠が消えたら、設置用ト?ップが返ってくるように修正。
・?ート?限で、同じパーティーのキ??はすぐ拾えるように修正。
・バグ報?ス?３ >>54 のバグ修正。
・?グイ??にサーバー側にIDを表示するようにしました。
	(login/)
	login.c
		parse_login() 修正。
	(conf/npc/)
		npc_event_doll.txt 修正。
	(map/)
	skill.c
		skill_unit_timer_sub() 修正。
	mob.c
		mob_spawn_dataset() 修正。
		mob_damage() 修正。
	pc.c
		pc_additem() 修正。

--------------------

//0792以前の変更点はReadmeを参照してください

--------------------

    Athena Dev. v2.1.1       Released: Middle July, 2003
    (c) 2003 Athena Project.
     http://project-yare.de/

1. Athena(アテナ)について
2. この??ースについて
3. 必要な物
4. 使い方
5. 現在の仕様
6. 祝辞
7. 免責??
8. 募集
9. English


1. アテナについて
    アテナとは2003年1?半ばにでた0052.lzhをベースとして作られているエミ??ータの一つです。
    基本的な?イセ?スはオ?ジナ?がGPLの下に配布されている為、
    これに従いGPLの下配布を?可します。
    /*
        改良版を配布する場?は必ずこのREADMEを?き換えてください。
        何?を改良したのか報?(athena@project-yare.deまで)して貰えると?かります。
        バイナ?のみの配布はGPL違反ですので"必ず"ソースも添付してください。
     */
    動作の確認は以下の通りのみ行っています。
    // ただし完璧に動く?を保証するもので?りません
    対象CPU: Intel Pentium系   // PentiumII以上で確認.
        FreeBSD 4.8R, 4.6.2R
        Linux RedHat 7.3
        cygwin + gcc 3.2 20020927 (prerelease)
    開発元URL: http://project-yare.de/


2. この??ースについて
    今回の??ースは前回(V2.1)同様開発版の??ースのみです。
    2.1に比べ下記の点が修正されています。
        mapのデフォ?ト設定が韓?data.grfのみ正常に動作するようになっていた点
        common/timer.cやmap/script.cの幾つかのバグ

    迅速にUpdateを強く?奨するものでは?りませんが各自の判断で行って下さい。


3. 必要な物
    data.grf      //sdata.grfは必要に?じて
    account.txt   //存在しない場?athena.shが自動生成します
    conf/*.cnf    //Map用とChar用の二種類?ります
    conf/npc*.txt //npc設定用ファイ?です。複?のファイ?に分けることが可能です。
    db/*.txt      //アイテ?、job情報など


4. 使い方
    > tar xvfz athena-d?.?.tar.gz
    > cd athena-d?.?.tar.gz
    > make
    > vi conf/char_athena.cnf       //IP(127.0.0.1)の?分を環境に?わせて変更してください
    > vi conf/map_athena.cnf        //同上、またmap設定などは、このファイ?で行います。
    > ./athena.sh
    上記を行えば"たぶん"起動します。

    補足:
    conf/npc_sampleJ.txtにはスク?プトの?き方について色々な説明が記載されています。
    もし、独自のMap設定を行ってみたい人や、スク?プトを弄りたい方は参考にしてください。
    ただし、開発?のためスク?プトの仕様が変更される可能性が?いです。
    command.txtには実?済みの特殊コマ?ドについての説明を記載しています。


5. 現在の仕様
    本鯖と比べておかしい(例えばプバが歩く、ポ??がアイテ?を拾わないなど)点は、
    全て現在開発?に因るものです。
    現状としてキ??クタ系及び??スター系のバグ報?は無?される可能性が?いです。

    バグ報?について必ず発生条?をお?き下さい。
    下に?る報?用テ?プ?ートを使って報?して頂くと?かります。
    報?先はエミ?板の開発ス?にでも。
    ---- Athena v 2.0 (stable or develop) ----
    【gcc ver】gcc -vを実行?に表示される内容
    【動作システ?】FreeBSD, Linux(ディスト?ビ?ージ??も), cygwinなど
    【発生内容】mapが?ちてしまった?の表示されていたデバッグ情報など具体的に?いてください。
    【?作内容】具体的にどんな?作を行ったかを?いてください。
    ------------------ END -------------------
    ?想はテ?プ?に加えてmap.coreなどcoreファイ?をUploaderにアップして頂くことですが
    問題のMapだけの状態にしcoreの吐く容量に?意してください。
    /*
        確認した限りでは324個ほどmapデータを読み?ませると、
         40MB近いcoreファイ?を吐き出します @FreeBSD
         cygwinの場?はstackdumpというファイ?になるそうです。
        しかし、coreファイ?などをgzip圧縮などすれば大?に小さくなります。
         大凡30MBのcoreファイ?が2.9MBほどになるようです。
        ですので、もしアップ?ードする場?はgzip圧縮など各自行ってください。
     */

    今回の??ースだけでなくHISTORYを作成すると大量に記述が必要な為省略しています。
    // 多い日だと本?に?構?りますので‥‥。


6. 祝辞
    今回このAthena開発版を出すに?たって感謝したい方々(?番不同)
        Lemming? (Project YARE)
        0052? (Uploader)
        35? (エミ?開発ス?)
        Johan Lindh?(Author of memwatch)
        YARE forumのNPC情報を作成した方々
        weiss研?会BBSの様々な情報ファイ?を作成した方々
        最後に、.coreファイ?達


7. 免責??
    Athena Projectは一切Athenaの動作に関する保証?は行いません。
    つまり、Athenaは無保証です。
    athena@project-yare.deに動作・?作?に関する質問などを?られても一切お?えできません。
    ?Athenaを用いたことにより生じた被害・問題?の責任は一切Athena Projectは?いません。


8. 募集
    athenaの開発に参加したい//興味が?るという方ご連?下さい。
    我々は貴方の参加をお待ちしています。
    // 最新版が欲しいだけで何ら協力して頂けないという方はお断りです;-)
    [募集要?: プ?グ?マ(2-3人)]
        年齢: 不問
        性別: 不問
        言語: 日本語が?解可能
        内容: C言語もしくはC++による開発。(特にネット?ークやDBの経験が有る方大募集!)
    [募集要?: 翻訳(?人)]
        年齢: 不問
        性別: 不問
        言語: 日本語、英語が?解可能
        内容: 仏?西語、独逸語、西班牙語、伊太??語、泰(タイ)語、朝鮮語、??語へ文献、サイトなどの翻訳
    連?先: athena@project-yare.de 雑務担?まで。


9. English
     This release is just fixed some bugs in timer.c, script.c and map_athena1.conf.


(c) 2003 Athena Project.

-->>J2KWorkBench<<--
